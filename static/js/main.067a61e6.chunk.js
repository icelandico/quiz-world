(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(n,e,t){n.exports=t(35)},32:function(n,e,t){},33:function(n,e,t){},34:function(n,e,t){},35:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),u=t(7),i=t.n(u),o=t(19),c=t(2),s=t(3);function l(){var n=Object(c.a)(["\n  margin: 1rem auto;\n  width: 90%;\n  font-size: 0.75rem;\n  color: #000;\n\n  @media (min-width: 768px) {\n    width: 50%;\n    font-size: 1rem;\n  }\n"]);return l=function(){return n},n}function f(){var n=Object(c.a)(["\n  font-size: 2rem;\n  color: #000;\n  margin: 1rem auto;\n"]);return f=function(){return n},n}var p=s.a.h2(f()),h=s.a.p(l()),m=function(){return a.a.createElement("header",null,a.a.createElement(p,null,"World Population Quiz"),a.a.createElement(h,null,"Your objective is to answer the questions! There are two kind of them. For each correct answer you get 1 point. Hurry up because you have only 20 seconds to finish this task."))},d=t(5),v=t(11),g=t(4),w=t.n(g),b=t(6),y=t(17),j=t(18),x=t(1),O="https://cors-anywhere.herokuapp.com/",E=function(){function n(){Object(y.a)(this,n),this.userAnswers=[],this.countries=[],this.questions=[],this.loading=!1,this.currentQuestion=0,this.userScore=0,this.quizStarted=!1,this.timer=20,this.initialTime=20}return Object(j.a)(n,[{key:"resetQuiz",value:function(){this.userAnswers=[],this.questions=[],this.currentQuestion=0,this.userScore=0,this.timer=this.initialTime,this.quizStarted=!1}},{key:"nextQuestion",value:function(){this.currentQuestion+=1}},{key:"addUserAnswer",value:function(n){this.userAnswers.push(n)}},{key:"checkCorrect",value:function(n,e){this.questions[n].correct===e&&(this.userScore+=1)}},{key:"fetchCountries",value:function(){var n=this;fetch("".concat(O).concat("http://54.72.28.201:80/1.0/countries"),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(function(n){return n.json()}).then(function(e){n.countries=e.countries}).then(function(){n.loading=!1}).catch(function(n){return alert("Something went wrong. Please try again or try to understand the error: ".concat(n," ."))})}},{key:"generateCountryList",value:function(){for(var n=[];n.length<3;){var e=Math.ceil(Math.random()*this.countries.length-1);n.includes(this.countries[e])||n.push(this.countries[e])}return n}},{key:"getPopulation",value:function(){var n=Object(b.a)(w.a.mark(function n(e){var t,r;return w.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(O).concat("http://54.72.28.201:80/1.0/population/").concat(e,"/2019-08-01/"),{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 3:return t=n.sent,n.next=6,t.json();case 6:return r=n.sent,n.abrupt("return",r.total_population.population);case 10:n.prev=10,n.t0=n.catch(0),alert("Something went wrong. Please try again or try to understand the error: ".concat(n.t0," ."));case 13:case"end":return n.stop()}},n,null,[[0,10]])}));return function(e){return n.apply(this,arguments)}}()},{key:"getCountriesPopulation",value:function(){var n=Object(b.a)(w.a.mark(function n(){var e,t,r,a,u=this;return w.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.generateCountryList(),t=function(){var n=Object(b.a)(w.a.mark(function n(){return w.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.all(e.map(function(n){return u.getPopulation(n)})));case 1:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),n.next=4,t();case 4:return r=n.sent,a=e.map(function(n,e){return{c:n,population:r[e]||1e6}}),n.abrupt("return",a);case 7:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}()},{key:"generateQuestionsStructure",value:function(){var n=Object(v.a)(Array(5).keys());return n.map(function(n){return Math.ceil(2*Math.random())})}},{key:"changeLoadingState",value:function(n){this.loading=n}},{key:"generateQuestionsSet",value:function(){var n=Object(b.a)(w.a.mark(function n(){var e,t,r,a=this;return w.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.fetchCountries(),e=this.generateQuestionsStructure(),t=function(){var n=Object(b.a)(w.a.mark(function n(){return w.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.all(e.map(function(n,e){return 1===n?a.generateQuestionTypeOne(e):a.generateQuestionTypeTwo(e)})));case 1:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),n.next=5,t();case 5:r=n.sent,this.quizStarted=!0,this.questions=r;case 8:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}()},{key:"generateQuestionTypeOne",value:function(){var n=Object(b.a)(w.a.mark(function n(e){var t,r,a,u;return w.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getCountriesPopulation();case 2:return t=n.sent,r=t.map(function(n){return n.population}),a=Math.ceil(Math.random()*t.length-1),u={id:e,type:1,answers:r,correct:a,country:t[a].c},n.abrupt("return",u);case 7:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()},{key:"generateQuestionTypeTwo",value:function(){var n=Object(b.a)(w.a.mark(function n(e){var t,r,a,u;return w.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getCountriesPopulation();case 2:return t=n.sent,r=t.map(function(n){return n.c}),a=this.defineBiggestPopul(t),u={id:e,type:2,answers:r,correct:a,country:t[a].c},n.abrupt("return",u);case 7:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()},{key:"defineBiggestPopul",value:function(n){var e=Object(v.a)(n).sort(function(n,e){return n.population<e.population?1:-1})[0].population;return n.findIndex(function(n){return n.population===e})}},{key:"timerChange",value:function(){this.timer-=1}}]),n}();Object(x.h)(E,{fetchCountries:x.d,loading:x.m,countries:x.m,questions:x.m,currentQuestion:x.m,generateQuestionsStructure:x.d,addUserAnswer:x.d,resetQuiz:x.d,quizStarted:x.m,timer:x.m,timerChange:x.d});var k=Object(r.createContext)(new E);function z(){var n=Object(c.a)(["\n  padding: 1rem;\n  background-color: #f79393;\n  font-size: 1rem;\n  color: #fff;\n  border: none;\n  transition: 0.2s all;\n\n  &:hover {\n    transform: scale(1.1);\n    cursor: pointer;\n  }\n"]);return z=function(){return n},n}function C(){var n=Object(c.a)(["\n  margin: 0 auto 1rem;\n"]);return C=function(){return n},n}var Q=s.a.div(C()),S=s.a.button(z()),q=Object(d.a)(function(){var n=Object(r.useContext)(k),e=n.quizStarted;return a.a.createElement(Q,null,a.a.createElement(S,{onClick:function(e){return function(e){e.preventDefault(),n.resetQuiz(),n.changeLoadingState(!0),n.generateQuestionsSet()}(e)}},e?"Restart the Quiz":"Start the Quiz"))});function T(){var n=Object(c.a)(["\n  margin-top: 0;\n\n  @media (min-width: 768px) {\n    margin-top: 2rem;\n  }\n"]);return T=function(){return n},n}function P(){var n=Object(c.a)(["\n  text-align: center;\n"]);return P=function(){return n},n}var A=s.a.div(P()),N=s.a.div(T());function I(){var n=Object(c.a)(["\n  color: #e87662;\n"]);return I=function(){return n},n}function M(){var n=Object(c.a)(["\n  font-size: 1rem;\n  color: #228b22;\n  font-weight: 700;\n"]);return M=function(){return n},n}function W(){var n=Object(c.a)(["\n  margin-top: 2rem;\n"]);return W=function(){return n},n}s.a.div(W());var B=s.a.span(M()),L=Object(s.a)(B)(I()),U=Object(d.a)(function(){var n,e=Object(r.useContext)(k),t=e.userAnswers,u=e.questions,i=function(n){return n.map(function(n,e){return a.a.createElement("div",{key:e},"Question ",e+1,a.a.createElement("p",null,function(n,e){return u[n].correct===e?a.a.createElement(B,null,"Correct"):a.a.createElement(L,null,"Wrong")}(e,n)))})};return a.a.createElement("div",null,a.a.createElement("h2",null,"Your answers: "),(n=t).length>0?i(n):"No answers given...",a.a.createElement("p",null,"Your score is:"),a.a.createElement("h1",null,e.userScore))}),Y=(t(32),t(33),function(){return a.a.createElement("div",{className:"spinner"},a.a.createElement("div",{className:"rect1"}),a.a.createElement("div",{className:"rect2"}),a.a.createElement("div",{className:"rect3"}),a.a.createElement("div",{className:"rect4"}),a.a.createElement("div",{className:"rect5"}))});function F(){var n=Object(c.a)(["\n  font-weight: 700;\n"]);return F=function(){return n},n}function J(){var n=Object(c.a)(["\n  font-size: 1rem;\n  color: #fff;\n  margin: 0;\n\n  @media (min-width: 768px) {\n    font-size: 1.5rem;\n  }\n"]);return J=function(){return n},n}function D(){var n=Object(c.a)(["\n  padding: 0.5rem;\n  background: #2c3449;\n"]);return D=function(){return n},n}var H=s.a.div(D()),R=s.a.p(J()),$=Object(s.a)(R)(F()),_=Object(d.a)(function(){var n=Object(r.useContext)(k),e=n.timer;Object(r.useEffect)(function(){var e=setInterval(function(){n.timerChange()},1e3);return function(){return clearInterval(e)}},[e]);return a.a.createElement(H,null,a.a.createElement(R,null,"Time left"),a.a.createElement($,null,(0===e&&(n.quizStarted=!1),e)))});function G(){var n=Object(c.a)(["\n  padding: 0.5rem;\n  color: #000;\n  font-size: 2rem;\n  margin: 0 0.5rem;\n  border: 1px solid #ccc;\n  width: 100px;\n  font-size: 1.25rem;\n  text-align: center;\n  flex-wrap: wrap;\n\n  &:hover {\n    background-color: #ccaa;\n    cursor: pointer;\n  }\n"]);return G=function(){return n},n}function K(){var n=Object(c.a)(["\n  padding: 0.5rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n\n  @media screen and(min-width: 768px) {\n  }\n"]);return K=function(){return n},n}function V(){var n=Object(c.a)(["\n  text-align: center;\n  font-weight: 700;\n"]);return V=function(){return n},n}function X(){var n=Object(c.a)(["\n  padding: 1rem;\n  background-color: #639aa5;\n  font-size: 1rem;\n  color: #fff;\n  border: none;\n  transition: 0.2s all;\n"]);return X=function(){return n},n}var Z=s.a.div(X()),nn=s.a.h3(V()),en=s.a.div(K());s.a.div(G());function tn(){var n=Object(c.a)(["\n  padding: 0.5rem;\n  color: #000;\n  margin: 1rem 0.5rem;\n  border: 1px solid #ccc;\n  width: 200px;\n  font-size: ",";\n  text-align: center;\n  height: 40px;\n  line-height: 40px;\n  overflow: hidden;\n\n  &:hover {\n    background-color: #ccaa;\n    cursor: pointer;\n  }\n"]);return tn=function(){return n},n}var rn=s.a.div(tn(),function(n){return n.longText?"0.75rem":"1.25rem"}),an=function(n){var e=Object(r.useContext)(k),t=n.questionId,u=n.idx,i=n.answer;return a.a.createElement(a.a.Fragment,null,a.a.createElement(rn,{key:u,onClick:function(){return n=t,r=u,e.checkCorrect(n,r),e.addUserAnswer(r),void e.nextQuestion();var n,r},longText:function(n){return"string"===typeof n&&n.length>10}(i)},i))},un=function(n){var e=n.id,t=n.country,r=n.answers,u=n.type;return a.a.createElement(Z,null,a.a.createElement(nn,null,1===u?"What's the population of the ".concat(t):"Which country has the biggest population?"),a.a.createElement(en,null,r.map(function(n,t){return a.a.createElement(an,{questionId:e,answer:n,idx:t,key:t})})))},on=Object(d.a)(function(){var n,e=Object(r.useContext)(k),t=e.questions,u=e.currentQuestion,i=e.loading,o=e.timer;return a.a.createElement(A,null,a.a.createElement(q,null),e.quizStarted&&a.a.createElement(_,null),a.a.createElement(N,null,e.currentQuestion<5&&o>0?a.a.createElement("div",null,i&&!t.length?a.a.createElement(Y,null):(n=t[u],t.length?function(n){return a.a.createElement(un,{type:n.type,id:n.id,country:n.country,answers:n.answers})}(n):null)):(e.quizStarted=!1,a.a.createElement(U,null))))});function cn(){var n=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  background-color: #ccc;\n  min-height: 100vh;\n  margin: 0;\n  padding: 0;\n"]);return cn=function(){return n},n}var sn=s.a.div(cn()),ln=function(){var n=Object(r.useContext)(k);return Object(r.useEffect)(function(){n.fetchCountries()},[]),a.a.createElement(sn,null,a.a.createElement(m,null),a.a.createElement(on,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(34);var fn=a.a.createElement(o.a,{quizStore:E},a.a.createElement(ln,null));i.a.render(fn,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[22,1,2]]]);
//# sourceMappingURL=main.067a61e6.chunk.js.map